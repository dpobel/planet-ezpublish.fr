{* DO NOT EDIT THIS FILE! Use an override template instead. *}

<div align="center">
  <h1>{"Site registration"|i18n("design/standard/setup/init")}</h1>
</div>

<p>
 {"In order to provide you with the best service in the future, we need some statistics to know a bit about your usage of eZ Publish and its underlying platform."|i18n("design/standard/setup/init")}
 {"In return this will also provide you with heads-up on security issues, notifications about updates, upgrades and other important news."|i18n("design/standard/setup/init")}
 {"This happens periodically, and you will always be able to opt-out of this at anytime."|i18n("design/standard/setup/init")}
</p>



{if is_set( $validation_messages )}
{if $validation_messages}
<div class="message-warning">
    <h2><span class="time">[{currentdate()|l10n( shortdatetime )}]</span> {'Could not send registration data'|i18n( 'design/standard/setup/init' )}</h2>
    <p>{'Required data is either missing or is invalid'|i18n( 'design/standard/setup/init' )}:</p>
    <ul>
    {foreach $validation_messages as $message}
        <li>{$message|wash}</li>
    {/foreach}
    </ul>
</div>
{/if}
{/if}


<form method="post" action="{$script}">
<fieldset>
    <legend>{"Registration information email:"|i18n("design/standard/setup/init")}</legend>
    <table border="0" cellspacing="2" cellpadding="0">
        <tr>
            <td><label for="ezsrd_first_name" class="textfield">{"First name"|i18n("design/standard/setup/init")}*:</label></td>
            <td><input id="ezsrd_first_name" type="text" size="20" name="eZSetupRegistrationData[first_name]" value="{$email_user_data['first_name']|wash}" /></td>
        </tr>
        <tr>
            <td><label for="ezsrd_last_name" class="textfield">{"Last name"|i18n("design/standard/setup/init")}*:</label></td>
            <td><input id="ezsrd_last_name" type="text" size="20" name="eZSetupRegistrationData[last_name]" value="{$email_user_data['last_name']|wash}" /></td>
        </tr>
        <tr>
            <td><label for="ezsrd_email" class="textfield">{"Your email"|i18n("design/standard/setup/init")}*:</label></td>
            <td><input id="ezsrd_email" type="email" size="20" name="eZSetupRegistrationData[email]" value="{$email_user_data['email']|wash}" /></td>
        </tr>
        <tr>
            <td><label for="ezsrd_country" class="textfield">{"Country"|i18n("design/standard/setup/init")}*:</label></td>
            <td><input id="ezsrd_country" type="text" size="20" name="eZSetupRegistrationData[country]" value="{$email_user_data['country']|wash}" /></td>
        </tr>
        <tr>
            <td><label for="ezsrd_company" class="textfield">{"Company"|i18n("design/standard/setup/init")}:</label></td>
            <td><input id="ezsrd_company" type="text" size="20" name="eZSetupRegistrationData[company]" value="{$email_user_data['company']|wash}" /></td>
        </tr>
        <tr>
            <td><label for="ezsrd_first_time_user" class="textfield">{"Is this the first time you are installing eZ Publish?"|i18n("design/standard/setup/init")}</label></td>
            <td><input id="ezsrd_first_time_user" type="checkbox" size="20" name="eZSetupRegistrationData[first_time_user]" {if $email_user_data['first_time_user']}checked="checked" {/if}value="1" /></td>
        </tr>
        <tr>
            <td><label for="ezsrd_include_tech_stats" class="textfield">{"Included some simple technical information?"|i18n("design/standard/setup/init")}</label></td>
            <td><input id="ezsrd_include_tech_stats" type="checkbox" size="20" name="eZSetupRegistrationData[include_tech_stats]" {if $email_user_data['include_tech_stats']}checked="checked" {/if}value="1" /></td>
        </tr>
    </table>

    <input type="hidden" name="eZSetupSendRegistration" value="checked" id="ez_reg_me" />{*
    *}<!-- label class="checkbox" for="ez_reg_me">{"Send registration"|i18n("design/standard/setup/init")}</label -->


    <div class="buttonblock" align="right">
        {include uri='design:setup/init/navigation.tpl'}
    </div>
    {include uri='design:setup/persistence.tpl'}
</fieldset>
</form>

<script type="text/javascript">
{literal}
(function(){
    // Disable form input elements in browsers that support it
    var forms = document.getElementsByTagName('form');
    for ( var i = 0; i < forms.length; i++ ){
        if ( forms[i].addEventListener )
            forms[i].addEventListener( 'submit', formDisable, false );
        else
            forms[i].onsubmit = formDisable;
    }

    function formDisable(){
        var form = this;
        setTimeout( function(){
            var allInputs = form.getElementsByTagName('input');
            for ( var i = 0; i < allInputs.length; i++ ){
                allInputs[i].disabled = true;
                if ( allInputs[i].className === 'defaultbutton' || allInputs[i].className === 'button' )
                    allInputs[i].className += ' button-disabled';
            }
        }, 10 );
    }
})();
{/literal}
</script>

<br />

<table cellpadding="0" cellspacing="0" border="0" class="full">
<tr><th class="label">{"Contents of registration email"|i18n("design/standard/setup/init")}:</th></tr>
<tr><td class="normal"><textarea class="box full" readonly="readonly" cols="60" rows="8">{$email_body}</textarea></td></tr>
</table>

<p>
{"We care for your privacy. Read more <a href='%link' target='_blank'>here</a>. This data will be treated securely and not shared with third parties without your permission."|i18n("design/standard/setup/init", "", hash( '%link', "http://ez.no/Privacy-policy" ))}
</p>
